{"ast":null,"code":"import _classCallCheck from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/src/Search.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Header from \"./Header\";\nimport Idle from \"./Idle\";\nimport Loading from \"./Loading\";\nimport Error from \"./Error\";\nvar tabUrl = \"https://vschool-cors.herokuapp.com?url=http://www.songsterr.com/a/ra/songs.json?pattern=\";\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this));\n    _this.state = {\n      data: [],\n      loading: true,\n      idle: true,\n      err: null,\n      alert: null,\n      input: \"\"\n    };\n    _this.handleResults = _this.handleResults.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"handleChange\",\n    value: function handleChange(id) {}\n  }, {\n    key: \"handleResults\",\n    value: function handleResults(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      this.setState({\n        idle: false,\n        loading: true\n      });\n      axios.get(tabUrl + this.state.input).then(function (response) {\n        if (response.data.length > 0) {\n          _this2.setState({\n            alert: false\n          });\n        } else {\n          _this2.setState({\n            alert: true\n          });\n        }\n\n        _this2.setState({\n          data: response.data,\n          loading: false,\n          err: null\n        });\n      }).catch(function (err) {\n        _this2.setState({\n          data: null,\n          loading: false,\n          err: {\n            message: \"404, data not found\"\n          }\n        });\n      });\n    }\n  }, {\n    key: \"handleFavorites\",\n    value: function handleFavorites() {\n      axios.post(\"/api/tabs\", this.state).then(function (response) {\n        return alert(\"Tabs have been added to your favorites\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          idle = _this$state.idle,\n          loading = _this$state.loading,\n          err = _this$state.err,\n          data = _this$state.data;\n      var tabList = this.state.data.map(function (item) {\n        return React.createElement(\"div\", {\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          href: \"http://www.songsterr.com/a/wa/song?id=\".concat(item.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, item.title));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleResults,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onSubmit: this.handleResults,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Search\"), React.createElement(\"input\", {\n        onChange: this.handleChange,\n        value: this.state.input,\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), React.createElement(Idle, {\n        idle: idle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Loading, {\n        loading: loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Error, {\n        err: err,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"results-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"favorite-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onSubmit: this.handleFavorites,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"+ to Favorites\")), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.state.alert ? \"You're search returned no results\" : tabList))))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport { Search as default };","map":{"version":3,"sources":["/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/src/Search.js"],"names":["React","Component","axios","Header","Idle","Loading","Error","tabUrl","Search","state","data","loading","idle","err","alert","input","handleResults","bind","handleChange","id","e","preventDefault","setState","get","then","response","length","catch","message","post","tabList","map","item","title","handleFavorites"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from \"axios\"\nimport Header from \"./Header\"\nimport Idle from \"./Idle\"\nimport Loading from \"./Loading\"\nimport Error from \"./Error\"\n\nconst tabUrl = `https://vschool-cors.herokuapp.com?url=http://www.songsterr.com/a/ra/songs.json?pattern=`\n\nexport default class Search extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            loading: true,\n            idle: true,\n            err: null,\n            alert: null,\n            input: \"\"\n        };\n        this.handleResults = this.handleResults.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange(id) {\n        \n    }\n    handleResults(e) {\n        e.preventDefault();\n        this.setState({ idle: false, loading: true });\n        axios\n            .get(tabUrl + this.state.input)\n            .then(response => {\n                if(response.data.length > 0){\n                    this.setState({\n                        alert: false\n                    })\n                } else {\n                    this.setState({\n                        alert: true\n                    })\n                }\n                this.setState({\n                    data: response.data,\n                    loading: false,\n                    err: null\n                });\n             \n            })\n            .catch(err => {\n                this.setState({\n                    data: null,\n                    loading: false,\n                    err: { message: \"404, data not found\" }\n                });\n            });\n    }\n    handleFavorites() {\n        axios\n        .post(\"/api/tabs\", this.state)\n        .then(response => alert(\"Tabs have been added to your favorites\"))\n    }\n    render() {\n        const { idle, loading, err, data } = this.state;\n        const tabList = this.state.data.map(item => (\n            <div key={item.id}>\n                <input type=\"checkbox\"></input>\n                <a href={`http://www.songsterr.com/a/wa/song?id=${item.id}`}>\n                    {item.title}\n                </a>\n            </div>\n        ));\n        return (\n            <div>\n                <form onSubmit={this.handleResults} type=\"submit\">\n                    <button onSubmit={this.handleResults}>Search</button>\n                    <input onChange={this.handleChange} value={this.state.input} type=\"text\"/>\n                </form>\n                <Idle idle={idle}>\n                    <Loading loading={loading}>\n                        <Error err={err}>\n                            <div className=\"results-wrapper\">\n                                <div className=\"favorite-button\">\n                                    <button onSubmit={this.handleFavorites}>+ to Favorites</button>\n                                </div>\n                                <ul>{this.state.alert ? \"You're search returned no results\": tabList}</ul>\n                            </div>\n                        </Error>\n                    </Loading>\n                </Idle>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}