{"ast":null,"code":"import _classCallCheck from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/src/Search.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport Header from \"./Header\";\nimport Loading from \"./Loading\";\nimport Error from \"./Error\";\nvar tabUrl = \"https://vschool-cors.herokuapp.com?url=http://www.songsterr.com/a/ra/songs.json?pattern=\";\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this));\n    _this.state = {\n      data: [],\n      loading: true,\n      idle: true,\n      err: null,\n      input: \"\"\n    };\n    _this.handleResults = _this.handleResults.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        input: event.target.value\n      });\n    }\n  }, {\n    key: \"handleResults\",\n    value: function handleResults(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      this.setState({\n        idle: false,\n        loading: true\n      });\n      axios.get(tabUrl + this.state.input).then(function (response) {\n        _this2.setState({\n          data: response.data,\n          loading: false,\n          err: null\n        });\n      }).catch(function (err) {\n        _this2.setState({\n          data: null,\n          loading: false,\n          err: {\n            message: \"404, data not found\"\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          err = _this$state.err,\n          data = _this$state.data,\n          idle = _this$state.idle;\n      var tabList = this.state.data.map(function (item) {\n        return React.createElement(\"div\", {\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"http://www.songsterr.com/a/wa/song?id=\".concat(item.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, item.title));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleResults,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onSubmit: this.handleResults,\n        key: \"{id}\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Search\"), React.createElement(\"input\", {\n        onChange: this.handleChange,\n        value: this.state.input,\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(Error, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, tabList));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport { Search as default };","map":{"version":3,"sources":["/Users/wadicals73/dev/assignments/projects/pick-it-2.0/client/src/Search.js"],"names":["React","Component","axios","Header","Loading","Error","tabUrl","Search","state","data","loading","idle","err","input","handleResults","bind","handleChange","event","setState","target","value","e","preventDefault","get","then","response","catch","message","tabList","map","item","id","title"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,IAAMC,MAAM,6FAAZ;;IAEqBC,M;;;;;AACjB,oBAAc;AAAA;;AAAA;;AACV;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,OAAO,EAAE,IAFA;AAGTC,MAAAA,IAAI,EAAE,IAHG;AAITC,MAAAA,GAAG,EAAE,IAJI;AAKTC,MAAAA,KAAK,EAAE;AALE,KAAb;AAOA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,uDAArB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AAVU;AAWb;;;;iCACYE,K,EAAO;AAChB,WAAKC,QAAL,CAAc;AACVL,QAAAA,KAAK,EAAEI,KAAK,CAACE,MAAN,CAAaC;AADV,OAAd;AAGH;;;kCACaC,C,EAAG;AAAA;;AACbA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKJ,QAAL,CAAc;AAAEP,QAAAA,IAAI,EAAE,KAAR;AAAeD,QAAAA,OAAO,EAAE;AAAxB,OAAd;AACAR,MAAAA,KAAK,CACAqB,GADL,CACSjB,MAAM,GAAG,KAAKE,KAAL,CAAWK,KAD7B,EAEKW,IAFL,CAEU,UAAAC,QAAQ,EAAI;AACd,QAAA,MAAI,CAACP,QAAL,CAAc;AACVT,UAAAA,IAAI,EAAEgB,QAAQ,CAAChB,IADL;AAEVC,UAAAA,OAAO,EAAE,KAFC;AAGVE,UAAAA,GAAG,EAAE;AAHK,SAAd;AAKH,OARL,EASKc,KATL,CASW,UAAAd,GAAG,EAAI;AACV,QAAA,MAAI,CAACM,QAAL,CAAc;AACVT,UAAAA,IAAI,EAAE,IADI;AAEVC,UAAAA,OAAO,EAAE,KAFC;AAGVE,UAAAA,GAAG,EAAE;AAAEe,YAAAA,OAAO,EAAE;AAAX;AAHK,SAAd;AAKH,OAfL;AAgBH;;;6BAEQ;AAAA,wBACgC,KAAKnB,KADrC;AAAA,UACGE,OADH,eACGA,OADH;AAAA,UACYE,GADZ,eACYA,GADZ;AAAA,UACiBH,IADjB,eACiBA,IADjB;AAAA,UACuBE,IADvB,eACuBA,IADvB;AAEL,UAAMiB,OAAO,GAAG,KAAKpB,KAAL,CAAWC,IAAX,CAAgBoB,GAAhB,CAAoB,UAAAC,IAAI;AAAA,eACpC;AAAK,UAAA,GAAG,EAAEA,IAAI,CAACC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAG,UAAA,IAAI,kDAA2CD,IAAI,CAACC,EAAhD,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACKD,IAAI,CAACE,KADV,CADJ,CADoC;AAAA,OAAxB,CAAhB;AAOA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,QAAQ,EAAE,KAAKlB,aAArB;AAAoC,QAAA,IAAI,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,QAAQ,EAAE,KAAKA,aAAvB;AAAsC,QAAA,GAAG,EAAC,MAA1C;AAAiD,QAAA,IAAI,EAAC,QAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAO,QAAA,QAAQ,EAAE,KAAKE,YAAtB;AAAoC,QAAA,KAAK,EAAE,KAAKR,KAAL,CAAWK,KAAtD;AAA6D,QAAA,IAAI,EAAC,MAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,EAKI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,EAMQ,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANR,EAOY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKe,OAAL,CAPZ,CADJ;AAYH;;;;EA5D+B3B,S;;SAAfM,M","sourcesContent":["import React, { Component } from 'react'\nimport axios from \"axios\"\nimport Header from \"./Header\"\nimport Loading from \"./Loading\"\nimport Error from \"./Error\"\n\nconst tabUrl = `https://vschool-cors.herokuapp.com?url=http://www.songsterr.com/a/ra/songs.json?pattern=`\n\nexport default class Search extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            loading: true,\n            idle: true,\n            err: null,\n            input: \"\"\n        };\n        this.handleResults = this.handleResults.bind(this);\n        this.handleChange = this.handleChange.bind(this)\n    }\n    handleChange(event) {\n        this.setState({\n            input: event.target.value\n        });\n    }\n    handleResults(e) {\n        e.preventDefault();\n        this.setState({ idle: false, loading: true });\n        axios\n            .get(tabUrl + this.state.input)\n            .then(response => {\n                this.setState({\n                    data: response.data,\n                    loading: false,\n                    err: null\n                });\n            })\n            .catch(err => {\n                this.setState({\n                    data: null,\n                    loading: false,\n                    err: { message: \"404, data not found\" }\n                });\n            });\n    }\n\n    render() {\n        const { loading, err, data, idle } = this.state;\n        const tabList = this.state.data.map(item => (\n            <div key={item.id}>\n                <a href={`http://www.songsterr.com/a/wa/song?id=${item.id}`}>\n                    {item.title}\n                </a>\n            </div>\n        ));\n        return (\n            <div>\n                <form onSubmit={this.handleResults} type=\"submit\">\n                    <button onSubmit={this.handleResults} key=\"{id}\" type=\"submit\">Search</button>\n                    <input onChange={this.handleChange} value={this.state.input} type=\"text\"/>\n                </form>\n                <Loading />\n                    <Error />\n                        <ul>{tabList}</ul>\n\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}